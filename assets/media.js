"use strict";$("#media-delete-multi").click(function(){var s=[];if($(".media-grid.select-mode .media-grid-item.selected").each(function(e,a){$(a).addClass("to-be-deleted"),s.push($(a).data("id"))}),0===s.length)return!1;$.ajax({type:"POST",url:"/deletemediamulti",data:{_id_arr:s},success:function(e){$(".custom-fields-notifications").append('<div class="alert alert-success alert-dismissible fade show" role="alert">\n            <strong>Success: </strong> '.concat(e.message,'\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n            </button>\n            </div>')),$(".media-grid-item.to-be-deleted").remove()},error:function(e){console.error(e),$(".custom-fields-notifications").append('<div class="alert alert-warning alert-dismissible fade show" role="alert">\n            <strong>Error: </strong> '.concat(e.message,'\n            <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n            <span aria-hidden="true">&times;</span>\n            </button>\n            </div>'))}}).always(function(){$(".custom-fields-notifications .alert").remove()})}),$(".media-grid-item-edit").click(function(){var e=$(this);if(e.closest(".media-grid").hasClass("select-mode"))return!1;var m=e.data("id");$.ajax({type:"GET",url:"/api/media/".concat(m),success:function(e){var a=e[0],s=a.type,t=a.fileName,i=a.storage,d=a.path,l=a.meta,o=l.alt,n=l.description,r=l.caption;$(".analog-modal .modal-body img").attr("src",d),$(".analog-modal .modal-body .media-name mark").text(t),$(".analog-modal .modal-body .media-type mark").text(s),$(".analog-modal .modal-body .media-storage mark").text(i),$(".analog-modal .modal-body .media-path mark").text(d),$(".analog-modal .modal-body #alt").val(o),$(".analog-modal .modal-body #description").val(n),$(".analog-modal .modal-body #caption").val(r),$(".analog-modal .modal-body #_id").val(m),$(".analog-modal").addClass("active")},error:function(e){console.error(e),alert(e.responseJSON.message)}})}),$(".media-grid-item-del").click(function(){var e=$(this);if(e.closest(".media-grid").hasClass("select-mode"))return!1;var a=e.data("media"),s=$(a),t=s.data("id");$.ajax({type:"POST",url:"/deletemedia",data:{_id:t},success:function(e){s.remove(),$(".custom-fields-notifications").append('<div class="alert alert-success alert-dismissible fade show" role="alert">\n                <strong>Success: </strong> '.concat(e.message,'\n                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n                </button>\n                </div>'))},error:function(e){console.error(e),$(".custom-fields-notifications").append('<div class="alert alert-warning alert-dismissible fade show" role="alert">\n                <strong>Error: </strong> '.concat(e.responseJSON.message,'\n                <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n                <span aria-hidden="true">&times;</span>\n                </button>\n                </div>'))}}).always(function(){$(".custom-fields-notifications .alert").remove()})}),$("#media-select-on").click(function(){var e=$(".media-grid"),a=$(this);return a.hasClass("select-mode")?($("#media-delete-multi").prop("disabled",!0),a.removeClass("select-mode"),e.removeClass("select-mode"),$(".media-grid .media-grid-item.selected").removeClass("selected")):($("#media-delete-multi").prop("disabled",!1),e.addClass("select-mode"),a.addClass("select-mode")),!1}),$(".media-grid .media-grid-item").click(function(){var e=$(this);return $(".media-grid").hasClass("select-mode")&&(e.hasClass("selected")?e.removeClass("selected"):e.addClass("selected")),!1});